<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡§®‡§æ‡§Æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</title>
  
  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#6a11cb">

  <style>
    /* ---------------- ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡•ç‡§∏ ---------------- */
    body {
      margin: 0; padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ffecd2, #fcb69f);
      display: flex; justify-content: center; align-items: center;
      min-height: 100vh;
    }

    .container {
      border: 6px solid #6a11cb;
      background: #fff8f0;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 12px 30px rgba(100,100,100,0.2);
      width: 400px;
      max-width: 95vw;
      box-sizing: border-box;
      transition: background 1s ease;
    }
    .container:hover { background: #fff0f6; }

    h5 {
      background: purple; color: white; border-radius: 6px;
      padding: 6px 12px; font-size: 14px; cursor: pointer;
      margin-bottom: 10px; user-select: none; display: inline-block;
    }

    h3 { text-align:center; color:#222; margin-bottom:15px; font-weight:700; letter-spacing:0.03em; }

    #nameCount {
      font-weight: bold;
      background: #00c6ff; color:white;
      border-radius: 6px; padding:6px 12px; font-size:14px;
      cursor:pointer; margin-bottom:10px; user-select:none; display:inline-block;
    }

    input[type="text"] {
      width:100%; padding:12px 15px; font-size:16px;
      border-radius:6px; border:2px solid #6a11cb;
      transition:border-color 0.3s ease, box-shadow 0.3s ease; margin-bottom:12px;
      box-sizing:border-box;
    }
    input[type="text"]:focus { border-color:#2575fc; box-shadow:0 0 8px rgba(37,117,252,0.8); outline:none; }

    button.save-btn {
      width:100%; margin-top:10px; padding:12px 0; font-size:16px;
      background: linear-gradient(90deg, #2575fc, #6a11cb); border:none;
      border-radius:6px; color:white; cursor:pointer; font-weight:600;
      transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(37,117,252,0.5);
    }
    button.save-btn:hover { background: linear-gradient(90deg, #6a11cb, #2575fc); transform: scale(1.03); }

    button.reset-btn {
      background:#ff9800; color:white; border:none; border-radius:6px;
      padding:10px 0; font-size:16px; cursor:pointer; font-weight:600; margin-top:10px;
      width:100%; box-shadow:0 4px 12px rgba(255,152,0,0.5); transition: all 0.3s ease;
    }
    button.reset-btn:hover { background:#e68900; transform: scale(1.03); }

    button.toggle-btn {
      font-weight:bold; background: linear-gradient(45deg, #ff6a00, #ee0979);
      color:white; border:none; border-radius:6px; padding:6px 20px; font-size:14px;
      cursor:pointer; margin-bottom:10px; user-select:none; display:inline-block; transition: transform 0.3s ease;
    }
    button.toggle-btn:hover { transform: scale(1.08); }

    .name-list-container {
      max-height:200px; overflow-y:auto;
      border:5px double #6a11cb; border-radius:8px;
      padding:10px; background:#e0f7fa; margin-top:10px;
      transition:max-height 0.5s ease, opacity 0.4s ease; opacity:1;
    }
    .hidden { max-height:0 !important; opacity:0 !important; overflow:hidden !important; }

    ul#nameList { padding:0; margin:0; }
    ul#nameList li {
      background:#fff; margin-bottom:10px; padding:8px 12px; border-radius:6px;
      display:flex; justify-content:space-between; align-items:center; font-weight:600; color:#222;
      box-shadow:0 2px 6px rgba(100,100,100,0.2); word-break: break-word;
    }
    .name-text { flex:1; margin-right:12px; }

    .btn-group button {
      border:none; color:white; padding:6px 12px; margin-left:8px;
      border-radius:6px; cursor:pointer; font-size:13px; font-weight:600;
      transition:transform 0.2s ease; min-width:80px; text-align:center;
    }
    .btn-copy { background:#4caf50; } .btn-copy:hover { background:#43a047; transform:scale(1.05); }
    .btn-delete { background:#f44336; } .btn-delete:hover { background:#e53935; transform:scale(1.05); }

    #notification {
      position:fixed; bottom:30px; left:50%; transform:translateX(-50%) scale(0.7);
      background:linear-gradient(135deg,#ff00cc,#3333ff); color:#fff; padding:15px 40px;
      border-radius:50px; font-size:18px; font-weight:700; box-shadow:0 8px 25px rgba(150,0,200,0.4);
      opacity:0; pointer-events:none; z-index:9999; animation:none; text-align:center;
    }
    #notification.show { animation: popUp 0.6s ease forwards, glowPulse 1.5s infinite ease-in-out; }
    @keyframes popUp { 0%{transform:translateX(-50%) scale(0.5); opacity:0;} 60%{transform:translateX(-50%) scale(1.1);opacity:1;} 100%{transform:translateX(-50%) scale(1); opacity:1;} }
    @keyframes glowPulse { 0%{box-shadow:0 0 15px rgba(255,0,255,0.7);} 50%{box-shadow:0 0 25px rgba(0,200,255,1);} 100%{box-shadow:0 0 15px rgba(255,0,255,0.7);} }

    #modalOverlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.6); display:none; justify-content:center; align-items:center; z-index:9999; }
    #confirmModal { background:linear-gradient(135deg,#ff6a00,#ee0979); color:white; padding:25px 30px; border-radius:12px; text-align:center; box-shadow:0 10px 25px rgba(0,0,0,0.3); max-width:400px; width:90%; animation:modalPop 0.4s ease; }
    #confirmModal h3 { margin-bottom:20px; }
    #confirmModal button { padding:10px 20px; margin:0 10px; border:none; border-radius:6px; font-weight:bold; cursor:pointer; font-size:14px; transition:transform 0.2s ease; }
    #confirmYes { background:#4caf50; color:white; } #confirmYes:hover{ transform:scale(1.1); }
    #confirmNo { background:#f44336; color:white; } #confirmNo:hover{ transform:scale(1.1); }
    @keyframes modalPop { 0%{transform:scale(0.5);opacity:0;} 60%{transform:scale(1.1);opacity:1;} 100%{transform:scale(1);opacity:1;} }
  </style>
</head>
<body>
  <div class="container" id="appContainer">
    <h3>üìÇ ‡§®‡§æ‡§Æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</h3>
    <input type="text" id="nameInput" placeholder="‚úç Enter Your Name" />
    <button class="save-btn" onclick="saveName()">üíæ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
    <button class="reset-btn" onclick="confirmReset()">‚ôª ‡§∞‡§ø‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
    <button id="installBtn" style="display:none;">Install App</button>

    <div style="overflow:hidden; margin-top:20px;">
      <h5>‡§∏‡•á‡§µ ‡§ï‡§ø‡§è ‡§ó‡§è ‡§®‡§æ‡§Æ</h5>
      <span id="nameCount"></span>
      <button class="toggle-btn" id="toggleListBtn" onclick="toggleList()">‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç</button>
    </div>
    <div class="name-list-container hidden" id="nameListContainer">
      <ul id="nameList"></ul>
    </div>
  </div>

  <div id="notification"></div>

  <div id="modalOverlay">
    <div id="confirmModal">
      <h3>‚ö† ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§µ‡§æ‡§ï‡§à ‡§∏‡§≠‡•Ä ‡§®‡§æ‡§Æ ‡§∞‡§ø‡§∏‡•á‡§ü ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?</h3>
      <button id="confirmYes">‡§π‡§æ‡§Å</button>
      <button id="confirmNo">‡§®‡§π‡•Ä‡§Ç</button>
    </div>
  </div>

  <script>
    const STORAGE_KEY = "names";

    function loadNames() {
      const savedNames = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
      const list = document.getElementById("nameList");
      const count = document.getElementById("nameCount");
      list.innerHTML = "";

      if (savedNames.length === 0) {
        const li = document.createElement("li");
        li.textContent = "‡§ï‡•ã‡§à ‡§®‡§æ‡§Æ ‡§∏‡•á‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§";
        li.style.textAlign = "center"; li.style.color = "#666"; li.style.fontStyle = "italic";
        list.appendChild(li);
        count.textContent = "‡§ï‡•Å‡§≤ ‡§®‡§æ‡§Æ: 0";
        return;
      }

      savedNames.forEach((name, index) => {
        const li = document.createElement("li");
        const span = document.createElement("span");
        span.textContent = name; span.className="name-text";

        const btnGroup = document.createElement("div"); btnGroup.className="btn-group";

        const copyBtn = document.createElement("button");
        copyBtn.textContent="‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç"; copyBtn.className="btn-copy";
        copyBtn.onclick=()=>{ navigator.clipboard.writeText(name).then(()=>showNotification("‡§®‡§æ‡§Æ ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!")); };

        const deleteBtn = document.createElement("button");
        deleteBtn.textContent="‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡•á‡§Ç"; deleteBtn.className="btn-delete";
        deleteBtn.onclick=()=>{ deleteName(index); };

        btnGroup.appendChild(copyBtn); btnGroup.appendChild(deleteBtn);
        li.appendChild(span); li.appendChild(btnGroup);
        list.appendChild(li);
      });

      count.textContent = "‡§ï‡•Å‡§≤ ‡§®‡§æ‡§Æ: "+savedNames.length;
    }

    function saveName() {
      const input=document.getElementById("nameInput");
      const name=input.value.trim();
      if(!name){ showNotification("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡•ã‡§à ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§"); return; }

      let savedNames=JSON.parse(localStorage.getItem(STORAGE_KEY))||[];
      if(savedNames.includes(name)){ showNotification("‡§Ø‡§π ‡§®‡§æ‡§Æ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à‡•§"); return; }

      savedNames.push(name);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(savedNames));
      input.value="";
      loadNames();
      showNotification("‡§®‡§æ‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
    }

    function deleteName(index){
      let savedNames=JSON.parse(localStorage.getItem(STORAGE_KEY))||[];
      savedNames.splice(index,1);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(savedNames));
      loadNames();
      showNotification("‡§®‡§æ‡§Æ ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ‡•§");
    }

    function toggleList(){
      const container=document.getElementById("nameListContainer");
      const btn=document.getElementById("toggleListBtn");
      container.classList.toggle("hidden");
      btn.textContent=container.classList.contains("hidden")?"‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç":"‡§õ‡•Å‡§™‡§æ‡§è‡§Ç";
    }

    function resetNames(){
      localStorage.removeItem(STORAGE_KEY);
      loadNames();
      showNotification("‡§∏‡§≠‡•Ä ‡§®‡§æ‡§Æ ‡§∞‡§ø‡§∏‡•á‡§ü ‡§π‡•ã ‡§ó‡§è‡•§");
    }

    function confirmReset(){
      const overlay=document.getElementById('modalOverlay');
      overlay.style.display='flex';
      document.getElementById('confirmYes').onclick=function(){ resetNames(); overlay.style.display='none'; };
      document.getElementById('confirmNo').onclick=function(){ overlay.style.display='none'; showNotification("‡§∞‡§ø‡§∏‡•á‡§ü ‡§ï‡•à‡§Ç‡§∏‡§ø‡§≤ ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§"); };
    }

    function showNotification(message){
      const notification=document.getElementById("notification");
      notification.textContent=message;
      notification.classList.remove("show");
      void notification.offsetWidth;
      notification.classList.add("show");
      setTimeout(()=>{ notification.classList.remove("show"); },2000);
    }

    document.getElementById("nameInput").addEventListener("keypress",function(e){ if(e.key==="Enter") saveName(); });
    window.onload=loadNames;

    // PWA install prompt
    let deferredPrompt;
    const installBtn = document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt', (e)=>{
      e.preventDefault(); deferredPrompt=e;
      installBtn.style.display='block';
    });
    installBtn.addEventListener('click', async ()=>{
      installBtn.style.display='none';
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      if(outcome==='accepted'){ showNotification("App install accepted!"); } else { showNotification("App install dismissed!"); }
      deferredPrompt=null;
    });
  </script>

  <script>
    // Service Worker registration
    if('serviceWorker' in navigator){
      window.addEventListener('load', ()=>{
        navigator.serviceWorker.register('service-worker.js')
          .then(reg=>console.log('Service Worker registered'))
          .catch(err=>console.log('SW registration failed:', err));
      });
    }
  </script>
</body>
</html>
